= Mule Object Stores
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: esb, object store, objects, persist

An *object store* is a facility for storing objects in or across Mule applications. Mule uses object stores to persist data for eventual retrieval. Internally, Mule uses object stores in various filters, routers, and other message processors that need to store state between messages. In most cases, Mule creates and manages object stores automatically.

To learn about Object Store management in Runtime Manager, see xref:runtime-manager::managing-application-data-with-object-stores.adoc[Managing Application Data with Object Stores] or more generally, xref:cache-scope.adoc#configobjstore[Configuring an Object Store for Cache].

*Note:* To access and manipulate object stores in Mule applications, download the https://www.anypoint.mulesoft.com/exchange/org.mule.modules/mule-module-objectstore/[Object Store connector] in Anypoint Studio.


== Use Cases

You may explicitly configure an object store when configuring:

* An xref:idempotent-filter.adoc[idempotent message filter] or until a successful scope occurs.
* The xref:endpoint-configuration-reference.adoc#redelivery-policy[idempotent redelivery policy] of a custom endpoint.
* An xref:splitter-flow-control-reference.adoc#aggregator-configuration[aggregator], you can either use the two default built-in object stores or create a reference of your own.
* A custom component that must use an object store to persist information.
* When storing or retrieving information from a Mule flow through the object store connector, https://www.anypoint.mulesoft.com/exchange/org.mule.modules/mule-module-objectstore/[available for installation]

Mule provides two types of object stores:

* *In-memory store* – stores objects in local Mule runtime memory. Objects are lost on shutdown of the Mule runtime.

* *Persistent store* – Mule persists data when an object store is _explicitly_ configured to be persistent. In a standalone Mule runtime, Mule creates a _default_ persistent store in the file system. See also: xref:object-store-connector.adoc#persistingdata[About Persisting Object Stores in Runtime Manager]

If you do not specify an object store, the default persistent object store is used.

For more information, see the xref:cache-scope.adoc#object-stores-and-clustering[Object Stores and Clustering] section of the xref:cache-scope.adoc[Cache Scope] document.

*Tip:* The _default_ object store created for all new caching strategies supports cluster mode out of the box, with the exception of the cache scope which uses the old default caching strategy.

== XML Example

The following example demonstrates how to configure object stores in the following three situations:

. xref:idempotent-filter.adoc[idempotent filter] with an in-memory object store.
. idempotent filter with a persistent object store.
. Until a successful scope occurs with an in-memory object store.

[source,xml,linenums]
----
include::{examplesdir}/mule-object-stores.xml[]
----

== See Also

* Install the https://www.anypoint.mulesoft.com/exchange/org.mule.modules/mule-module-objectstore/[Object Store connector in Anypoint Exchange].
* xref:object-store-connector.adoc[Object Store Connector].
* Learn about the xref:runtime-manager::managing-application-data-with-object-stores.adoc[Runtime Manager implementation of object stores].