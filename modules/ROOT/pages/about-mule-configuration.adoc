= About Mule Configuration
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: configuration, deploy, mule

Following is an introduction to configuring Mule via it's XML DSL file. For details on this file, see xref:about-the-xml-configuration-file.adoc[About the XML Configuration File].

== Mule Configuration File Overview

A Mule configuration file is a tree.

////
Missing image -- no file name is close to this:

, as shown in the following illustration:

image::<missing>muleConfig.png[muleConfig]
////

Each of the elements sets up a configuration object within Mule, for example:

* xref:global-settings-configuration.adoc[Mule Global Configuration] - Global settings, such as the default transaction time-out, that apply to the entire Mule configuration.

* link:/mule-user-guide/v/4.1/configuring-properties[Properties] - Configuration Properties, message properties, and system properties.

* xref:connectors::index.adoc[Connectors and Modules Configurations] - Declare configurations for any connectors and modules components used.

* xref:about-flows.adoc[Flows] - Combine components to define a message flow.

* xref:about-event-source.adoc[Sources] - Trigger a flow.

* xref:about-routers.adoc[Routers] - Control the flow execution.

* xref:about-operations.adoc[Operations] - Apply specific actions within a flow.

Following is an example of a simple Mule configuration file for an application:

*Simple Mule Configuration*

[source,xml,linenums]
----
<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:db="http://www.mulesoft.org/schema/mule/db"
      xmlns:email="http://www.mulesoft.org/schema/mule/email"
      xmlns:http="http://www.mulesoft.org/schema/mule/http"
      xmlns:tls="http://www.mulesoft.org/schema/mule/tls"
      xmlns="http://www.mulesoft.org/schema/mule/core"
      xsi:schemaLocation="
	    http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
	  	http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd
		http://www.mulesoft.org/schema/mule/email http://www.mulesoft.org/schema/mule/email/current/mule-email.xsd
		http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
        http://www.mulesoft.org/schema/mule/tls http://www.mulesoft.org/schema/mule/tls/current/mule-tls.xsd">

    <http:listener-config name="http.listener.config" basePath="mule">
        <http:listener-connection host="0.0.0.0" port="${http.port}" protocol="HTTP"/>
    </http:listener-config>

    <http:request-config name="http.request.config" basePath="mule">
        <http:request-connection host="127.0.0.1" port="${http.port}"/>
    </http:request-config>

    <email:smtp-config name="email.config">
        <email:smtp-connection host="${email.host}" port="${email.smtp.port}"/>
    </email:smtp-config>

    <flow name="integration-routing-contentFlow">
        <http:listener config-ref="https.listener.config" path="routing/main"/>
        <logger level="INFO" message="#[attributes.headers]"/>

        <choice>
            <when expression="#[attributes.headers.'content-type' contains 'application/json']">
                <http:request config-ref="http.request.config" path="routing/http" method="POST"/>
            </when>
            <otherwise>
                <set-payload value="Error: Unexpected unmapped choice element when trying to route the request."/>
                <email:send config-ref="email.config" subject="Email routing">
                    <email:to-addresses>
                        <email:to-address value="routing@mulesoft.com"/>
                    </email:to-addresses>
                    <email:body contentType="text/plain">
                        <email:content>#[payload]</email:content>
                    </email:body>
                </email:send>
            </otherwise>
        </choice>
    </flow>

</mule>
----
